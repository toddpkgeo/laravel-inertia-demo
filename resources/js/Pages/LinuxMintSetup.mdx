# Linux Mint Setup

These are my notes from when I installed Linux Mint 22 on my laptop.

## Why Mint?

This is for a laptop that I could take with me to new environments.
I'd rather not troubleshoot WiFi, printing, remote file systems, etc.,
which could possibly waste another person's time.

Mint handles the kinds of setup that are especially boring to me.
Printing is unusually painless with this distro. It also ships without
Ubuntu Snaps, which I'd rather not try to remove from any other Ubuntu
distro.

That only applies to laptops, though. For Workstations and VMs, I'd
rather build up my OS from a minimal base.

## During Install

The install is simple enough that I don't have any tips, but I do have
some thoughts on the file system setup.

- Full disk encryption only helps if the laptop is off.
- I can still use gpg or ccrypt on sensitive files.
- It would be nice if BTRFS was an option
  - I would love to see that and checkboxes for subvols
    - `/home`, `/.snapshots`, `/mnt`, `/run`, `/tmp`, `/var`
    - `/swap`, but this could be a separate option (file or partition, how big)
  - BTRFS would be nice for 2 reasons:
    - Timeshift snapshots will be instant
    - More subvols creates more granularity when choosing what to snapshot

## After Install

- Set up Timeshift snapshots
  - I include home dotfiles, exclude `/root/**`
  - A good list of other exclusions apply by default. Click "Filter - Summary" to view.
- Verify that `fstrim.timer` is running, which is good for SSD longevity
  - `systemctl status fstrim.timer`
- Remove asterisks from password prompts
  - normally I expect CLI password prompts to not echo anything
  - do this by removing the file `/etc/sudoers.d/0pwfeedback`
- Cinnamon Settings
  - Scrolling on Title bar can be set to adjust window opacity
  - Use "Software Sources - Mirrors" and wait for some speed measurements to finish
  - Set Caps to Escape in Keyboard - Layout
  - I Changed move/resize key from Alt to Super
- Confirm that printing just works by joining a new network with a printer
  - Print a test page from the printer settings
- Run the Uncomplicated Firewall (UFW)
  - I set it to deny all incoming connections
  - This is easy enough to configure later
- SSH
  - I make an `ssh-list` alias to remind me of connections that I might want to use
  - I make other `ssh-*` aliases for these connections
  - Consider creating keys like this:
    - `ssh-keygen -t rsa -C "for XYZ server" -f ~/.ssh/xyz_rsa`
    - A strong RSA variant will be used by default
  - Copy public keys with `ssh-copy-id`
  - _ASIDE_: Avoid SSH Agent if using more than a few keys
    - Too many keys can lead to a "too many attempts" error.
    - Think of this as a keyring with many keys, and some "locks" only offer a couple of tries.
    - Try using `ssh -i $key` or `scp -i $key`, which doesn't require the agent.
    - I do still want SSH Agent for Git Repo (Bitbucket, Azure Repo) keys
    - unless there's a way to configure git to use a specific key and not the agent
    - So to keep the "keyring" small, I only add keys for remote repos
    - On Ubuntu, any `.ssh/$x` with a corresponding `.ssh/$x.pub` file will be auto-added to the keyring
    - On other systems, I'd use [this script](https://github.com/git-for-windows/git/wiki/Auto-launching-ssh-agent-when-git-starts)
      and replace "id_rsa" with whatever space-separated keys you need.
  - Verify that SSH login works and password login doesn't
